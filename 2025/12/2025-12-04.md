# 2025-12-04 TIL

# âœ… ì˜¤ëŠ˜ í•œ ì¼
- Vue Router ê¸°ë³¸ ê°œë… í•™ìŠµ
- RouterLinkì™€ RouterView ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ë²• ìŠµë“
- Named Routes, Dynamic Route Matching ì‹¤ìŠµ
- Nested Routesì™€ Programmatic Navigation í•™ìŠµ
- Navigation Guard (ì „ì—­/ë¼ìš°í„°/ì»´í¬ë„ŒíŠ¸ ê°€ë“œ) ê°œë… ì •ë¦¬

# ğŸ“š ë°°ìš´ ì 
- SPAì—ì„œ ë¼ìš°íŒ…ì´ ì—†ìœ¼ë©´ URL ë³€í™” ê°ì§€ ë¶ˆê°€, ìƒˆë¡œê³ ì¹¨ ì‹œ ì²« í˜ì´ì§€ë¡œ ì´ë™, ë¸Œë¼ìš°ì € ë’¤ë¡œê°€ê¸° ë¶ˆê°€ ë“±ì˜ ë¬¸ì œ ë°œìƒ
- Vue RouterëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ë¼ìš°íŒ…ì„ ì²˜ë¦¬í•˜ì—¬ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì§€ ì•Šê³  ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì ìœ¼ë¡œ êµì²´í•¨
- Named Routesë¥¼ ì‚¬ìš©í•˜ë©´ URL ê²½ë¡œ ë³€ê²½ ì‹œ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§ (í•˜ë“œì½”ë”©ëœ ê²½ë¡œ ëŒ€ì‹  name ì‚¬ìš©)
- useRoute()ëŠ” í˜„ì¬ ê²½ë¡œ ì •ë³´ë¥¼ ì½ëŠ” ìš©ë„, useRouter()ëŠ” í˜ì´ì§€ ì´ë™ ë“± ì•¡ì…˜ìš©
- Navigation Guardë¥¼ í†µí•´ ì¸ì¦ í™•ì¸, ê¶Œí•œ ì²´í¬ ë“± ë¼ìš°íŒ… ì œì–´ ë¡œì§ êµ¬í˜„ ê°€ëŠ¥

# ğŸ“Œ í•µì‹¬ ê°œë…
- **RouterLink**: í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì§€ ì•Šê³  URLì„ ë³€ê²½í•˜ëŠ” ë§í¬ ì»´í¬ë„ŒíŠ¸ (`<a>` íƒœê·¸ë¡œ ë Œë”ë§)
- **RouterView**: í˜„ì¬ URL ê²½ë¡œì™€ ì¼ì¹˜í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ìë¦¬ í‘œì‹œì
- **router/index.js**: ë¼ìš°íŒ… ì„¤ì • íŒŒì¼ë¡œ ê° ê²½ë¡œ(path)ì— ë§¤ì¹­ë  ì»´í¬ë„ŒíŠ¸ë¥¼ ì •ì˜
- **Named Routes**: ê²½ë¡œ ëŒ€ì‹  name ì†ì„±ìœ¼ë¡œ ë¼ìš°íŠ¸ë¥¼ ì°¸ì¡°í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- **Dynamic Route Matching**: URLì˜ ì¼ë¶€ë¥¼ ë³€ìˆ˜(íŒŒë¼ë¯¸í„°)ë¡œ ì‚¬ìš© (ì˜ˆ: `/user/:id`)
- **Programmatic Navigation**: JavaScript ì½”ë“œë¡œ í˜ì´ì§€ ì´ë™ (`router.push()`, `router.replace()`)
- **Nested Routes**: children ì˜µì…˜ì„ ì‚¬ìš©í•´ ë¼ìš°íŠ¸ë¥¼ ì¤‘ì²©í•˜ì—¬ ë¶€ëª¨-ìì‹ ë ˆì´ì•„ì›ƒ êµ¬ì„±
- **Navigation Guard**: ë¼ìš°íŠ¸ ì „í™˜ ì‹œ ì‹¤í–‰ë˜ëŠ” ê°€ë“œ í•¨ìˆ˜ë¡œ ì¸ì¦/ê¶Œí•œ ì²´í¬ êµ¬í˜„
  - **ì „ì—­ ê°€ë“œ**: `beforeEach()`, `beforeResolve()`, `afterEach()`
  - **ë¼ìš°í„° ê°€ë“œ**: `beforeEnter()`
  - **ì»´í¬ë„ŒíŠ¸ ê°€ë“œ**: `onBeforeRouteLeave()`, `onBeforeRouteUpdate()`

# ğŸ’¡ ì˜ˆì‹œ ì½”ë“œ

**ê¸°ë³¸ ë¼ìš°íŒ… ì„¤ì • (router/index.js)**
```javascript
import HomeView from '../views/HomeView.vue'
import AboutView from '../views/AboutView.vue'

const router = createRouter({
  history: createWebHistory(import.meta.env.BASE_URL),
  routes: [
    {
      path: '/',
      name: 'home',
      component: HomeView,
    },
    {
      path: '/about',
      name: 'about',
      component: AboutView,
    }
  ]
})
```

**RouterLink ì‚¬ìš© (App.vue)**
```vue
<template>
  <nav>
    <RouterLink :to="{ name: 'home' }">Home</RouterLink>
    <RouterLink :to="{ name: 'about' }">About</RouterLink>
  </nav>
  <RouterView />
</template>
```

**Dynamic Route Matching**
```javascript
// router/index.js
{
  path: '/user/:id',
  name: 'user',
  component: UserView
}
```

```vue
<!-- UserView.vue -->
<script setup>
import { ref } from 'vue'
import { useRoute } from 'vue-router'

const route = useRoute()
const userId = ref(route.params.id)
</script>

<template>
  <h2>{{ userId }}ë²ˆ User í˜ì´ì§€</h2>
</template>
```

**Programmatic Navigation**
```vue
<script setup>
import { useRouter } from 'vue-router'

const router = useRouter()

const goHome = function () {
  router.push({ name: 'home' })
}
</script>

<template>
  <button @click="goHome">í™ˆìœ¼ë¡œ!</button>
</template>
```

**Nested Routes**
```javascript
// router/index.js
{
  path: '/user/:id',
  component: UserView,
  children: [
    { path: 'profile', name: 'userProfile', component: UserProfile },
    { path: 'posts', name: 'userPosts', component: UserPosts }
  ]
}
```

**Navigation Guard - ì „ì—­ ê°€ë“œ**
```javascript
// router/index.js
router.beforeEach((to, from) => {
  const isAuthenticated = false
  
  if (!isAuthenticated && to.name !== 'login') {
    console.log('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.')
    return { name: 'login' }
  }
})
```

**Navigation Guard - ë¼ìš°í„° ê°€ë“œ**
```javascript
// router/index.js
{
  path: '/login',
  name: 'login',
  component: LoginView,
  beforeEnter: (to, from) => {
    if (isAuthenticated === true) {
      console.log('ì´ë¯¸ ë¡œê·¸ì¸ ìƒíƒœì…ë‹ˆë‹¤.')
      return { name: 'home' }
    }
  }
}
```

**Navigation Guard - ì»´í¬ë„ŒíŠ¸ ê°€ë“œ**
```vue
<script setup>
import { onBeforeRouteLeave, onBeforeRouteUpdate } from 'vue-router'

onBeforeRouteLeave((to, from) => {
  const answer = window.confirm('ì •ë§ ë– ë‚˜ì‹¤ ê±´ê°€ìš”?')
  if (answer === false) {
    return false
  }
})

onBeforeRouteUpdate((to, from) => {
  userId.value = to.params.id
})
</script>
```

# ğŸ› ï¸ ì´ìŠˆ & í•´ê²°
| ğŸ ë¬¸ì œ ìƒí™© | ğŸ” ì›ì¸ | ğŸ’¡ í•´ê²° ë°©ë²• |
|--------------|--------|--------------|
| Named Routes ì‚¬ìš© ì‹œ to ì†ì„±ì— ë¬¸ìì—´ë¡œ name ì „ë‹¬ | v-bind ì—†ì´ ì¼ë°˜ ì†ì„±ìœ¼ë¡œ ì „ë‹¬í•˜ë©´ ë¬¸ìì—´ë¡œ ì¸ì‹ë¨ | `:to="{ name: 'home' }"` í˜•íƒœë¡œ v-bind ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¡œ ì „ë‹¬ |
| Dynamic Routeì—ì„œ params ê°’ì´ ì»´í¬ë„ŒíŠ¸ì— ë°˜ì˜ë˜ì§€ ì•ŠìŒ | $route.paramsë¥¼ ì§ì ‘ í…œí”Œë¦¿ì—ì„œ ì‚¬ìš© | useRoute()ë¡œ route ê°ì²´ë¥¼ ê°€ì ¸ì™€ ë°˜ì‘í˜• ë³€ìˆ˜ì— í• ë‹¹ í›„ ì‚¬ìš© (`const userId = ref(route.params.id)`) |
| ê°™ì€ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ë‹¤ë¥¸ íŒŒë¼ë¯¸í„°ë¡œ ì´ë™ ì‹œ ë‚´ìš©ì´ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŒ | ì»´í¬ë„ŒíŠ¸ê°€ ì¬ì‚¬ìš©ë˜ì–´ ë¼ì´í”„ì‚¬ì´í´ì´ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ | onBeforeRouteUpdate ê°€ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒë¼ë¯¸í„° ë³€ê²½ ê°ì§€ ë° ì—…ë°ì´íŠ¸ |
| router.push() ì‚¬ìš© ì‹œ ë’¤ë¡œê°€ê¸°ë¡œ ì´ì „ í˜ì´ì§€ ì ‘ê·¼ ë¶ˆê°€ | router.replace()ë¥¼ ì‚¬ìš©í•˜ë©´ íˆìŠ¤í† ë¦¬ ìŠ¤íƒì— ì¶”ê°€ë˜ì§€ ì•ŠìŒ | ë’¤ë¡œê°€ê¸°ê°€ í•„ìš”í•œ ê²½ìš° router.push() ì‚¬ìš©, ë¶ˆí•„ìš”í•œ ê²½ìš° router.replace() ì‚¬ìš© |
| Nested Routesì—ì„œ ìì‹ ê²½ë¡œì— `/`ë¥¼ ë¶™ì„ | ìì‹ ê²½ë¡œë¥¼ ì ˆëŒ€ ê²½ë¡œë¡œ ì¸ì‹í•˜ì—¬ ë¶€ëª¨ ê²½ë¡œê°€ ë¬´ì‹œë¨ | childrenì˜ pathëŠ” `/` ì—†ì´ ìƒëŒ€ ê²½ë¡œë¡œ ì‘ì„± (`path: 'profile'`) |


