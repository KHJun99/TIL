# 2025-12-03 TIL

# ✅ 오늘 한 일
- Vue.js Props와 Component Events 학습
- 부모-자식 컴포넌트 간 데이터 전달 방법 학습
- Props와 Emit을 활용한 양방향 통신 구현
- 실습 프로젝트 진행 (상품 목록, 장바구니, 명함 관리 서비스)

# 📚 배운 점
- Props는 부모에서 자식으로 데이터를 전달하는 단방향 흐름이며, 자식 컴포넌트에서는 읽기 전용으로 사용해야 함
- defineProps()를 사용해 props를 선언하며, 객체 선언 방식을 사용하면 타입 검사와 유효성 검사가 가능함
- $emit()을 통해 자식 컴포넌트가 부모에게 이벤트를 발신할 수 있으며, defineEmits()로 발신할 이벤트를 선언함
- Props와 Emit을 조합하면 컴포넌트 간 완전한 양방향 통신이 가능함
- 네이밍 컨벤션: HTML에서는 kebab-case, JavaScript에서는 camelCase 사용

# 📌 핵심 개념
- **Props (Properties)**: 부모 컴포넌트가 자식 컴포넌트에게 데이터를 전달하는 사용자 지정 특성
  - 단방향 데이터 흐름 (One-Way Data Flow)
  - 정적 props: 고정된 문자열 전달
  - 동적 props: v-bind를 사용한 반응형 데이터 전달

- **Emit**: 자식 컴포넌트가 부모에게 이벤트를 발신하여 데이터를 전달하는 메커니즘
  - $emit(event, ...args) 형식으로 사용
  - 이벤트와 함께 추가 인자(데이터) 전달 가능

- **컴포넌트 통신 패턴**
  - Props: 부모 → 자식 (데이터 전달)
  - Emit: 자식 → 부모 (이벤트 발신)

# 💡 예시 코드

**Props 선언 및 사용**
```vue
<!-- 부모 컴포넌트 (Parent.vue) -->
<template>
  <div>
    <ParentChild 
      my-msg="message" 
      :dynamic-props="name"
    />
  </div>
</template>

<script setup>
import { ref } from 'vue'
import ParentChild from '@/components/ParentChild.vue'

const name = ref('Alice')
</script>
```
```vue
<!-- 자식 컴포넌트 (ParentChild.vue) -->
<template>
  <div>
    <p>{{ myMsg }}</p>
    <p>{{ dynamicProps }}</p>
  </div>
</template>

<script setup>
defineProps({
  myMsg: String,
  dynamicProps: String,
})
</script>
```

**Emit 이벤트 발신 및 수신**
```vue
<!-- 자식 컴포넌트 -->
<template>
  <button @click="buttonClick">클릭</button>
  <button @click="emitArgs">추가 인자 전달</button>
</template>

<script setup>
const emit = defineEmits(['someEvent', 'emitArgs'])

const buttonClick = function () {
  emit('someEvent')
}

const emitArgs = function () {
  emit('emitArgs', 1, 2, 3)
}
</script>
```
```vue
<!-- 부모 컴포넌트 -->
<template>
  <div>
    <ParentChild 
      @some-event="someCallback"
      @emit-args="getNumbers"
    />
  </div>
</template>

<script setup>
const someCallback = function () {
  console.log('ParentChild가 발신한 이벤트를 수신했어요.')
}

const getNumbers = function (...args) {
  console.log(args) // [1, 2, 3]
}
</script>
```

**v-for와 Props 활용**
```vue
<!-- Parent.vue -->
<template>
  <div>
    <ParentItem
      v-for="item in items"
      :key="item.id"
      :my-prop="item"
    />
  </div>
</template>

<script setup>
import { ref } from 'vue'

const items = ref([
  { id: 1, name: '사과' },
  { id: 2, name: '바나나' },
  { id: 3, name: '딸기' }
])
</script>
```
```vue
<!-- ParentItem.vue -->
<template>
  <div>
    <p>{{ myProp.id }}</p>
    <p>{{ myProp.name }}</p>
  </div>
</template>

<script setup>
defineProps({
  myProp: Object
})
</script>
```

# 🛠️ 이슈 & 해결
| 🐞 문제 상황 | 🔍 원인 | 💡 해결 방법 |
|--------------|--------|--------------|
| Props 값이 자식 컴포넌트에서 업데이트되지 않음 | 정적 props를 사용하여 문자열 "1"을 전달함 | v-bind(:)를 사용하여 동적 props로 변경하여 JavaScript 표현식으로 평가되도록 함 |
| 자식에서 props 값을 수정했을 때 경고 발생 | Props는 단방향 데이터 흐름을 따르므로 자식에서 직접 수정 불가 | Emit을 사용하여 부모에게 변경 요청 이벤트를 발신하고, 부모에서 데이터를 수정하도록 구현 |
| 여러 단계의 컴포넌트를 거쳐 데이터 전달 시 복잡함 | Props와 Emit을 각 단계마다 전달해야 함 | 각 중간 컴포넌트에서 props를 받아 다시 전달하고, emit 이벤트도 중계하여 최상위 컴포넌트까지 전달 |