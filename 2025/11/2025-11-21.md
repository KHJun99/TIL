# 2025-11-21 TIL

# âœ… ì˜¤ëŠ˜ í•œ ì¼
- DOM ì¡°ì‘ê³¼ Event ê´€í†µ í”„ë¡œì íŠ¸ ì‹¤ìŠµ
- Input Eventë¥¼ í™œìš©í•œ ì…ë ¥ ìœ íš¨ì„± í™•ì¸ ì‹¤ìŠµ
- Drag Eventë¥¼ í™œìš©í•œ ì¹´ë“œ ìˆœì„œ ë°”ê¾¸ê¸° ì‹¤ìŠµ
- Scroll Event ê°œë… í•™ìŠµ ë° ë‹¤ì–‘í•œ í™œìš© ì‹¤ìŠµ
- CSS Animationê³¼ Keyframes í•™ìŠµ
- CSS Transforms í•™ìŠµ
- Parallax Scroll ì›ë¦¬ í•™ìŠµ ë° êµ¬í˜„

# ğŸ“š ë°°ìš´ ì 
- Input EventëŠ” ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë°œìƒí•˜ë©°, ë¶™ì—¬ë„£ê¸°ì—ë„ ë°˜ì‘í•˜ì—¬ ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬ì— ì í•©í•¨
- Drag EventëŠ” ë‹¨ì¼ ì´ë²¤íŠ¸ê°€ ì•„ë‹Œ dragstart, drag, dragend ë“± ì—¬ëŸ¬ ì´ë²¤íŠ¸ê°€ ìˆœì°¨ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ ê·¸ë£¹
- ë“œë˜ê·¸ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ë ¤ë©´ HTML ìš”ì†Œì— draggable="true" ì†ì„±ì„ ë°˜ë“œì‹œ ì¶”ê°€í•´ì•¼ í•¨
- dragover ì´ë²¤íŠ¸ì—ì„œ preventDefault()ë¥¼ í˜¸ì¶œí•´ì•¼ dropì´ ê°€ëŠ¥í•´ì§
- CSS Animationì€ @keyframesë¡œ ë™ì‘ ë‹¨ê³„ë¥¼ ì •ì˜í•˜ê³ , animation ì†ì„±ìœ¼ë¡œ ì „ë°˜ì ì¸ ê·œì¹™ì„ ì„¤ì •
- CSS TransformsëŠ” translate, rotate, scale, skew ë“±ì˜ í•¨ìˆ˜ë¡œ ìš”ì†Œë¥¼ ë³€í˜•ì‹œí‚´
- Scroll EventëŠ” ìŠ¤í¬ë¡¤í•  ë•Œë§ˆë‹¤ ì§€ì†ì ìœ¼ë¡œ ë°œìƒí•˜ë©°, window.scrollYë¡œ ìˆ˜ì§ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ í™•ì¸ ê°€ëŠ¥
- Parallax Scrollì€ ìš”ì†Œë§ˆë‹¤ ë‹¤ë¥¸ ì†ë„ë¡œ ì›€ì§ì—¬ ì…ì²´ê°ì„ ì£¼ëŠ” ì‹œê°ì  íš¨ê³¼
- getBoundingClientRect()ëŠ” ìš”ì†Œì˜ í¬ê¸°ì™€ Viewportì—ì„œì˜ ìƒëŒ€ì  ìœ„ì¹˜ ì •ë³´ë¥¼ ë°˜í™˜í•¨
- clientXëŠ” Viewport ë‚´ì˜ í˜„ì¬ ë§ˆìš°ìŠ¤ ìˆ˜í‰ ì¢Œí‘œë¥¼ ë‹´ê³  ìˆìŒ

# ğŸ“Œ í•µì‹¬ ê°œë…
- **Input Event**: ë°ì´í„°ë¥¼ ì…ë ¥í•  ë•Œë§ˆë‹¤ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¡œ, ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬ì— í™œìš©
- **Drag Event**: ìš”ì†Œë¥¼ ëŒì–´ì„œ ì´ë™ì‹œí‚¤ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ì—¬ëŸ¬ ì´ë²¤íŠ¸ì˜ ê·¸ë£¹ (dragstart, drag, dragend, dragenter, dragover, dragleave, drop)
- **draggable ì†ì„±**: HTML ìš”ì†Œë¥¼ ë“œë˜ê·¸ ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” ì†ì„± (ê¸°ë³¸ê°’ false)
- **CSS Animation**: @keyframesë¡œ ë™ì‘ ë‹¨ê³„ë¥¼ ì •ì˜í•˜ê³  animation ì†ì„±ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ ê¸°ëŠ¥
- **CSS Transforms**: translate, rotate, scale, skew ë“±ìœ¼ë¡œ ìš”ì†Œë¥¼ ë³€í˜•ì‹œí‚¤ëŠ” CSS ì†ì„±
- **Scroll Event**: í˜ì´ì§€ë¥¼ ìŠ¤í¬ë¡¤í•  ë•Œë§ˆë‹¤ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸
- **window.scrollY**: ë¸Œë¼ìš°ì € ì°½ì˜ ìˆ˜ì§ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ (í‘œì¤€ ì†ì„±)
- **element.scrollHeight**: ìŠ¤í¬ë¡¤ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ê¹Œì§€ í¬í•¨í•œ ìš”ì†Œì˜ ì „ì²´ ì½˜í…ì¸  ë†’ì´
- **Parallax Scroll**: ë°°ê²½ê³¼ ì „ê²½ì´ ì„œë¡œ ë‹¤ë¥¸ ì†ë„ë¡œ ì›€ì§ì—¬ ì…ì²´ê°ì„ ì£¼ëŠ” ìŠ¤í¬ë¡¤ íš¨ê³¼
- **getBoundingClientRect()**: ìš”ì†Œì˜ í¬ê¸°ì™€ Viewportì—ì„œì˜ ìƒëŒ€ì  ìœ„ì¹˜ ì •ë³´ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ
- **insertBefore()**: ê¸°ì¤€ ë…¸ë“œì˜ ì•ì— ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ì‚½ì…í•˜ëŠ” ë©”ì„œë“œ

# ğŸ’¡ ì˜ˆì‹œ ì½”ë“œ

```javascript
// 1. Input Event - ì…ë ¥ ìœ íš¨ì„± í™•ì¸ (ìµœëŒ€ 20ì ì œí•œ)
const textInput = document.querySelector('#textInput');
const counter = document.querySelector('#counter');
const maxLength = 20;

textInput.addEventListener('input', function(e) {
  const currentLength = e.target.value.length;
  
  if (currentLength > maxLength) {
    e.target.value = e.target.value.substring(0, maxLength); // ì…ë ¥ ì œí•œ
    e.target.classList.add('error'); // ì—ëŸ¬ íš¨ê³¼ ì¶”ê°€
    
    // ì—ëŸ¬ íš¨ê³¼ 500ms ì´í›„ ì œê±°
    setTimeout(() => {
      e.target.classList.remove('error');
    }, 500);
    return;
  }
  
  // ê¸€ì ìˆ˜ í‘œì‹œ
  counter.textContent = `${currentLength} / ${maxLength}`;
});

// 2. Drag Event - ì¹´ë“œ ìˆœì„œ ë°”ê¾¸ê¸°
let draggedCard = null;
const container = document.querySelector('#container');

// ë“œë˜ê·¸ ì‹œì‘
container.addEventListener('dragstart', (e) => {
  draggedCard = e.target; // ë“œë˜ê·¸ ì¤‘ì¸ ì¹´ë“œ ì €ì¥
  e.target.classList.add('dragging');
});

// ë“œë˜ê·¸ ì¤‘
container.addEventListener('dragover', (e) => {
  e.preventDefault(); // dropì„ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸° ìœ„í•´ í•„ìˆ˜
  
  const mouseX = e.clientX; // í˜„ì¬ ë§ˆìš°ìŠ¤ Xì¢Œí‘œ
  const otherCards = [...container.querySelectorAll('.card:not(.dragging)')];
  
  let minDistance = Infinity;
  let closestCard = null;
  let closestCardCenter = 0;
  
  // ê°€ì¥ ê°€ê¹Œìš´ ì¹´ë“œ ì°¾ê¸°
  otherCards.forEach(card => {
    const rect = card.getBoundingClientRect();
    const cardCenter = rect.left + rect.width / 2;
    const distance = Math.abs(mouseX - cardCenter);
    
    if (distance < minDistance) {
      minDistance = distance;
      closestCard = card;
      closestCardCenter = cardCenter;
    }
  });
  
  // ë“œë˜ê·¸ ì¤‘ì¸ ì¹´ë“œ ìœ„ì¹˜ ë³€ê²½
  if (closestCard) {
    if (mouseX < closestCardCenter) {
      container.insertBefore(draggedCard, closestCard);
    } else {
      container.insertBefore(draggedCard, closestCard.nextSibling);
    }
  }
});

// ë“œë˜ê·¸ ì¢…ë£Œ
container.addEventListener('dragend', (e) => {
  draggedCard = null;
  e.target.classList.remove('dragging');
});

// 3. Scroll Event - ìŠ¤í¬ë¡¤ ì‹œ ìš”ì†Œ ë‚˜íƒ€ë‚˜ê¸°
const cards = document.querySelectorAll('.scroll-card');

function checkScroll() {
  const windowHeight = window.innerHeight;
  
  cards.forEach(card => {
    const cardTop = card.getBoundingClientRect().top;
    
    // ì¹´ë“œê°€ í™”ë©´ì— ë“¤ì–´ì˜¤ê¸° 200px ì „ë¶€í„° ë‚˜íƒ€ë‚˜ê¸° ì‹œì‘
    if (cardTop < windowHeight - 200) {
      card.classList.add('visible');
    }
  });
}

window.addEventListener('scroll', checkScroll);

// 4. Parallax Scroll - ì…ì²´ê° ìˆëŠ” ìŠ¤í¬ë¡¤ íš¨ê³¼
const layerBack = document.querySelector('.layer-back');
const layerMiddle = document.querySelector('.layer-middle');
const layerFront = document.querySelector('.layer-front');

// ê° ë ˆì´ì–´ì˜ ì†ë„ ì„¤ì •
const speeds = {
  back: 0.2,
  middle: 0.3,
  front: 0.4
};

window.addEventListener('scroll', () => {
  const scrolled = window.scrollY; // í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜
  
  // ê° ë ˆì´ì–´ë¥¼ ë‹¤ë¥¸ ì†ë„ë¡œ ì´ë™ (ìŒìˆ˜ë¡œ ìœ„ë¡œ ì˜¬ë¼ê°€ê²Œ)
  layerBack.style.transform = `translateY(${-scrolled * speeds.back}px)`;
  layerMiddle.style.transform = `translateY(${-scrolled * speeds.middle}px)`;
  layerFront.style.transform = `translateY(${-scrolled * speeds.front}px)`;
});

// 5. ìŠ¤í¬ë¡¤ ì§„í–‰ë¥  ê³„ì‚° ë° ë°°ê²½ìƒ‰ ë³€ê²½
const colors = ['#87CEEB', '#FFA500', '#FF6347', '#4B0082', '#000033'];

window.addEventListener('scroll', () => {
  const scrollY = window.scrollY;
  const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
  const progress = Math.min(scrollY / scrollHeight, 1); // 0~1 ì‚¬ì´ ê°’
  
  // ì§„í–‰ë¥ ì„ ìƒ‰ìƒ ì¸ë±ìŠ¤ë¡œ ë³€í™˜
  const colorIndex = Math.floor(progress * colors.length);
  const currentColorIndex = Math.min(colorIndex, colors.length - 1);
  
  // ì •í•´ì§„ ìƒ‰ìƒ ì ìš©
  const currentColor = colors[currentColorIndex];
  document.body.style.backgroundColor = currentColor;
});
```

```css
/* CSS Animation - shake íš¨ê³¼ */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

.text-input.error {
  background-color: #ffcccc;
  animation: shake 0.5s;
}

/* CSS Animation - pulse íš¨ê³¼ */
@keyframes pulse {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.5;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* ìŠ¤í¬ë¡¤ ì‹œ ë‚˜íƒ€ë‚˜ëŠ” ì¹´ë“œ */
.scroll-card {
  opacity: 0;
  transform: translateY(50px);
  transition: opacity 0.6s, transform 0.6s;
}

.scroll-card.visible {
  opacity: 1;
  transform: translateY(0);
}
```

```html
<!-- Drag Event ì˜ˆì‹œ -->
<div class="card" draggable="true">ì¹´ë“œ 1</div>
<div class="card" draggable="true">ì¹´ë“œ 2</div>
<div class="card" draggable="true">ì¹´ë“œ 3</div>

<!-- Input Event ì˜ˆì‹œ -->
<h1>í…ìŠ¤íŠ¸ ì…ë ¥ ì œí•œ (20ì)</h1>
<input type="text" class="text-input" id="textInput" placeholder="ìµœëŒ€ 20ì">
<div class="counter" id="counter">0 / 20</div>
```

# ğŸ› ï¸ ì´ìŠˆ & í•´ê²°
| ğŸ ë¬¸ì œ ìƒí™© | ğŸ” ì›ì¸ | ğŸ’¡ í•´ê²° ë°©ë²• |
|--------------|--------|--------------|
| ë“œë˜ê·¸ ì‹œ ë§ˆìš°ìŠ¤ ì»¤ì„œê°€ ê¸ˆì§€ í‘œì‹œë¡œ ë‚˜íƒ€ë‚¨ | dragover ì´ë²¤íŠ¸ì˜ ê¸°ë³¸ ë™ì‘ì´ ë“œë˜ê·¸ë¥¼ í—ˆìš©í•˜ì§€ ì•ŠìŒ | dragover ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ e.preventDefault() í˜¸ì¶œí•˜ì—¬ ê¸°ë³¸ ë™ì‘ ì·¨ì†Œ |
| HTML ìš”ì†Œë¥¼ ë“œë˜ê·¸í•  ìˆ˜ ì—†ìŒ | draggable ì†ì„±ì˜ ê¸°ë³¸ê°’ì´ falseì„ | HTML ìš”ì†Œì— draggable="true" ì†ì„±ì„ ëª…ì‹œì ìœ¼ë¡œ ì¶”ê°€ |
| ìŠ¤í¬ë¡¤ ì§„í–‰ë¥ ì´ 1ì„ ì´ˆê³¼í•˜ì—¬ ë°°ì—´ ì¸ë±ìŠ¤ ì˜¤ë¥˜ ë°œìƒ | ëª¨ë°”ì¼ì´ë‚˜ íŠ¹ì • ë¸Œë¼ìš°ì €ì—ì„œ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°€ ë†’ì´ë¥¼ ì´ˆê³¼í•˜ëŠ” ê²½ìš° ë°œìƒ | Math.min(progress, 1)ìœ¼ë¡œ ì§„í–‰ë¥ ì„ 0~1 ì‚¬ì´ë¡œ ì œí•œ |
| Parallax Scroll íš¨ê³¼ê°€ ë¶€ìì—°ìŠ¤ëŸ¬ì›€ | ëª¨ë“  ë ˆì´ì–´ê°€ ê°™ì€ ì†ë„ë¡œ ì›€ì§ì„ | ê° ë ˆì´ì–´ë§ˆë‹¤ ë‹¤ë¥¸ ì†ë„ ê°’ì„ ì„¤ì •í•˜ì—¬ ì…ì²´ê° ìƒì„± (back: 0.2, middle: 0.3, front: 0.4) |
| ì…ë ¥ ì œí•œ ì‹œ ì—ëŸ¬ íš¨ê³¼ê°€ ê³„ì† ìœ ì§€ë¨ | ì—ëŸ¬ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€ë§Œ í•˜ê³  ì œê±°í•˜ì§€ ì•ŠìŒ | setTimeout()ì„ ì‚¬ìš©í•˜ì—¬ 500ms í›„ ì—ëŸ¬ í´ë˜ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ì œê±° |