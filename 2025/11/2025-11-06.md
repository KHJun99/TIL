# 2025-11-06 TIL

# âœ… ì˜¤ëŠ˜ í•œ ì¼
- Userì™€ Article, Userì™€ Comment ëª¨ë¸ ê°„ N:1 ê´€ê³„ ì„¤ì •
- settings.AUTH_USER_MODELì„ í™œìš©í•œ User ëª¨ë¸ ì°¸ì¡° êµ¬í˜„
- ForeignKeyë¡œ ê²Œì‹œê¸€ ë° ëŒ“ê¸€ ì‘ì„±ì ì •ë³´ ì—°ê²°
- save(commit=False)ë¡œ ì‘ì„±ì ì •ë³´ë¥¼ í¬í•¨í•œ ê²Œì‹œê¸€/ëŒ“ê¸€ ìƒì„± êµ¬í˜„
- ë³¸ì¸ ê²Œì‹œê¸€/ëŒ“ê¸€ë§Œ ìˆ˜ì •/ì‚­ì œí•  ìˆ˜ ìˆë„ë¡ ê¶Œí•œ ê²€ì¦ ë¡œì§ ì‘ì„±
- View decorators(require_http_methods, require_safe, require_POST) í•™ìŠµ ë° ì ìš©
- ERD(Entity-Relationship Diagram) ê°œë… í•™ìŠµ ë° ì¤‘ìš”ì„± ì´í•´
- ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ëŒ“ê¸€ ì‘ì„±/ì‚­ì œ ê°€ëŠ¥í•˜ë„ë¡ @login_required ë°ì½”ë ˆì´í„° ì ìš©

# ğŸ“š ë°°ìš´ ì 
- **settings.AUTH_USER_MODEL vs get_user_model()**: models.pyì—ì„œëŠ” ë¬¸ìì—´ ë°˜í™˜('accounts.User')ì¸ settings.AUTH_USER_MODEL ì‚¬ìš©, ê·¸ ì™¸ì—ì„œëŠ” ê°ì²´ ë°˜í™˜ì¸ get_user_model() ì‚¬ìš©
- **ì§€ì—° í‰ê°€(lazy evaluation)**: ë¬¸ìì—´ë¡œ ëª¨ë¸ì„ ì°¸ì¡°í•´ë„ Djangoê°€ ë‚´ë¶€ì ìœ¼ë¡œ ëª¨ë¸ ë¡œë”© í›„ ì²˜ë¦¬í•˜ë¯€ë¡œ ìˆœí™˜ ì°¸ì¡° ë¬¸ì œ ë°©ì§€
- **Migration ì‹œ ê¸°ë³¸ê°’ ì„¤ì •**: ê¸°ì¡´ í…Œì´ë¸”ì— NOT NULL í•„ë“œ ì¶”ê°€ ì‹œ ê¸°ì¡´ ë ˆì½”ë“œì˜ ê¸°ë³¸ê°’ ì„¤ì • í•„ìš”
- **View decoratorsì˜ ì—­í• **: í•¨ìˆ˜ ìœ„ì— ë¶™ì—¬ ì‚¬ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ì²˜ëŸ¼ ì‘ë™í•˜ë©° ì‚¬ìš©ì ì ‘ê·¼ì„ ì•ˆì „í•˜ê³  ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬
- **require_safe > require_GET**: GETê³¼ HEAD ëª¨ë‘ í—ˆìš©í•˜ì—¬ í‘œì¤€ HTTP í´ë¼ì´ì–¸íŠ¸ì™€ í˜¸í™˜ì„± ë†’ìŒ
- **ERDì˜ ì¤‘ìš”ì„±**: ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ì˜ í•µì‹¬ ë„êµ¬ë¡œ ì—”í‹°í‹°, ì†ì„±, ê´€ê³„ë¥¼ ì‹œê°í™”í•˜ì—¬ í˜‘ì—… ë° ì˜ì‚¬ì†Œí†µ ì§€ì›
- **ë¸Œë¼ìš°ì € ì™¸ ìš”ì²­ ì²˜ë¦¬**: requests íŒ¨í‚¤ì§€ë‚˜ postman ë“±ì˜ ìš”ì²­ì€ ë¸Œë¼ìš°ì €ë¥¼ í†µí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ view í•¨ìˆ˜ ë‚´ë¶€ì—ì„œë„ ê¶Œí•œ ê²€ì¦ í•„ìˆ˜

# ğŸ“Œ í•µì‹¬ ê°œë…
- **settings.AUTH_USER_MODEL**: models.pyì—ì„œ User ëª¨ë¸ì„ ì•ˆì „í•˜ê²Œ ì°¸ì¡°í•˜ê¸° ìœ„í•œ ë¬¸ìì—´ ë°˜í™˜ ë°©ì‹
- **get_user_model()**: models.py ì™¸ë¶€ì—ì„œ í™œì„±í™”ëœ User ëª¨ë¸ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
- **N:1 ê´€ê³„ ì„¤ì •**: User(1) : Article(N), User(1) : Comment(N)
- **ForeignKey ì™¸ë˜ í‚¤**: `models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)`
- **save(commit=False)**: ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í›„ ì¶”ê°€ ì •ë³´(ì‘ì„±ì) ì„¤ì • í›„ ì €ì¥
- **ê¶Œí•œ ê²€ì¦**: `if request.user == article.user` ë˜ëŠ” `if request.user == comment.user`
- **View decorators**:
  - @require_http_methods(["GET", "POST"]): ì§€ì •ëœ HTTP ë©”ì„œë“œë§Œ í—ˆìš©
  - @require_safe: GETê³¼ HEADë§Œ í—ˆìš© (ì¡°íšŒ ì „ìš©)
  - @require_POST: POSTë§Œ í—ˆìš© (ìƒì„±/ìˆ˜ì •/ì‚­ì œ)
  - @login_required: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥
- **ERD êµ¬ì„± ìš”ì†Œ**: Entity(í…Œì´ë¸”), Attribute(ì»¬ëŸ¼), Relationship(ê´€ê³„)
- **HttpResponseNotAllowed(405)**: í—ˆìš©ë˜ì§€ ì•Šì€ HTTP ë©”ì„œë“œ ìš”ì²­ ì‹œ ë°˜í™˜

# ğŸ’¡ ì˜ˆì‹œ ì½”ë“œ

**Article ëª¨ë¸ì— User ì™¸ë˜ í‚¤ ì¶”ê°€**
```python
# articles/models.py
from django.conf import settings

class Article(models.Model):
    # User ì™¸ë˜ í‚¤ ì¶”ê°€ (N:1 ê´€ê³„)
    user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
    title = models.CharField(max_length=10)
    content = models.TextField()
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

# âŒ ì˜ëª»ëœ ë°©ë²•: from django.contrib.auth.models import User
# âš ï¸ ì§ì ‘ importí•˜ë©´ ìˆœí™˜ ì°¸ì¡° ë¬¸ì œ ë°œìƒ ê°€ëŠ¥

# DBì—ëŠ” user_id í•„ë“œë¡œ ì €ì¥ë¨
```

**Comment ëª¨ë¸ì— User ì™¸ë˜ í‚¤ ì¶”ê°€**
```python
# articles/models.py
class Comment(models.Model):
    article = models.ForeignKey(Article, on_delete=models.CASCADE)
    # User ì™¸ë˜ í‚¤ ì¶”ê°€ (N:1 ê´€ê³„)
    user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
    content = models.CharField(max_length=200)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
```

**Migration ê³¼ì •**
```bash
# makemigrations ì‹¤í–‰
$ python manage.py makemigrations

# ê¸°ì¡´ í…Œì´ë¸”ì— NOT NULL í•„ë“œ ì¶”ê°€ ì‹œ ì—ëŸ¬ ë°œìƒ
# It is impossible to add a non-nullable field 'user' to article...
# Select an option: 1 ì…ë ¥ (ê¸°ë³¸ê°’ ì„¤ì •)

# ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©í•  user_id ì…ë ¥
# >>> 1 ì…ë ¥ (1ë²ˆ íšŒì›ì´ ì‘ì„±í•œ ê²ƒìœ¼ë¡œ ì„¤ì •)

# migrate ì‹¤í–‰
$ python manage.py migrate

# articles_article í…Œì´ë¸”ì— user_id í•„ë“œ ìƒì„± í™•ì¸
# articles_comment í…Œì´ë¸”ì— user_id í•„ë“œ ìƒì„± í™•ì¸
```

**ArticleForm ìˆ˜ì • - user í•„ë“œ ì œì™¸**
```python
# articles/forms.py
from django import forms
from .models import Article

class ArticleForm(forms.ModelForm):
    class Meta:
        model = Article
        # user í•„ë“œ ì œì™¸ (ì‚¬ìš©ìê°€ ì„ íƒí•˜ë©´ ì•ˆ ë¨)
        fields = ('title', 'content',)
        # âŒ fields = '__all__'  # user ì„ íƒì°½ì´ ë…¸ì¶œë¨
```

**ê²Œì‹œê¸€ CREATE - ì‘ì„±ì ì •ë³´ ì €ì¥**
```python
# articles/views.py
from django.shortcuts import render, redirect
from django.contrib.auth.decorators import login_required
from .models import Article
from .forms import ArticleForm

@login_required
def create(request):
    if request.method == 'POST':
        form = ArticleForm(request.POST)
        if form.is_valid():
            # commit=False: DB ì €ì¥ ì—†ì´ ì¸ìŠ¤í„´ìŠ¤ë§Œ ìƒì„±
            article = form.save(commit=False)
            # ì‘ì„±ì ì •ë³´ ì¶”ê°€
            article.user = request.user
            # ì´ì œ DBì— ì €ì¥
            article.save()
            return redirect('articles:detail', article.pk)
    else:
        form = ArticleForm()
    
    context = {
        'form': form,
    }
    return render(request, 'articles/create.html', context)
```

**ê²Œì‹œê¸€ READ - ì‘ì„±ì ì •ë³´ ì¶œë ¥**
```python
# articles/views.py
from django.views.decorators.http import require_safe

@require_safe
def index(request):
    articles = Article.objects.all()
    context = {
        'articles': articles,
    }
    return render(request, 'articles/index.html', context)

@require_safe
def detail(request, pk):
    article = Article.objects.get(pk=pk)
    comment_form = CommentForm()
    comments = article.comment_set.all()
    
    context = {
        'article': article,
        'comment_form': comment_form,
        'comments': comments,
    }
    return render(request, 'articles/detail.html', context)
```
```html
<!-- articles/index.html -->
{% for article in articles %}
  <p>ì‘ì„±ì: {{ article.user }}</p>
  <p>ê¸€ ë²ˆí˜¸: {{ article.pk }}</p>
  <a href="{% url 'articles:detail' article.pk %}">
    <p>ê¸€ ì œëª©: {{ article.title }}</p>
  </a>
  <p>ê¸€ ë‚´ìš©: {{ article.content }}</p>
  <hr>
{% endfor %}
```
```html
<!-- articles/detail.html -->
<h2>DETAIL</h2>
<h3>{{ article.pk }} ë²ˆì§¸ ê¸€</h3>
<hr>
<p>ì‘ì„±ì: {{ article.user }}</p>
<p>ì œëª©: {{ article.title }}</p>
<p>ë‚´ìš©: {{ article.content }}</p>
<p>ì‘ì„± ì‹œê°: {{ article.created_at }}</p>
<p>ìˆ˜ì • ì‹œê°: {{ article.updated_at }}</p>

<!-- ë³¸ì¸ ê²Œì‹œê¸€ë§Œ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ í‘œì‹œ -->
{% if request.user == article.user %}
  <a href="{% url 'articles:update' article.pk %}">UPDATE</a><br>
  <form action="{% url 'articles:delete' article.pk %}" method="POST">
    {% csrf_token %}
    <input type="submit" value="DELETE">
  </form>
{% endif %}
```

**ê²Œì‹œê¸€ UPDATE - ë³¸ì¸ë§Œ ìˆ˜ì • ê°€ëŠ¥**
```python
# articles/views.py
from django.views.decorators.http import require_http_methods

@login_required
@require_http_methods(["GET", "POST"])
def update(request, pk):
    article = Article.objects.get(pk=pk)
    
    # ì‘ì„±ì ë³¸ì¸ í™•ì¸
    if request.user == article.user:
        if request.method == 'POST':
            form = ArticleForm(request.POST, instance=article)
            if form.is_valid():
                form.save()
                return redirect('articles:detail', article.pk)
        else:
            form = ArticleForm(instance=article)
    else:
        # ë³¸ì¸ì´ ì•„ë‹ˆë©´ ëª©ë¡ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
        return redirect('articles:index')
    
    context = {
        'article': article,
        'form': form,
    }
    return render(request, 'articles/update.html', context)
```

**ê²Œì‹œê¸€ DELETE - ë³¸ì¸ë§Œ ì‚­ì œ ê°€ëŠ¥**
```python
# articles/views.py
from django.views.decorators.http import require_POST

@login_required
@require_POST
def delete(request, pk):
    article = Article.objects.get(pk=pk)
    
    # ì‘ì„±ì ë³¸ì¸ í™•ì¸
    if request.user == article.user:
        article.delete()
    
    return redirect('articles:index')
```

**ëŒ“ê¸€ CREATE - ì‘ì„±ì ì •ë³´ ì €ì¥**
```python
# articles/views.py
from .forms import CommentForm

@login_required
@require_POST
def comments_create(request, pk):
    article = Article.objects.get(pk=pk)
    comment_form = CommentForm(request.POST)
    
    if comment_form.is_valid():
        # commit=False: ì¸ìŠ¤í„´ìŠ¤ë§Œ ìƒì„±
        comment = comment_form.save(commit=False)
        # ê²Œì‹œê¸€ ì •ë³´ ì¶”ê°€
        comment.article = article
        # ì‘ì„±ì ì •ë³´ ì¶”ê°€
        comment.user = request.user
        # DBì— ì €ì¥
        comment.save()
        return redirect('articles:detail', article.pk)
    
    context = {
        'article': article,
        'comment_form': comment_form,
    }
    return render(request, 'articles/detail.html', context)
```

**ëŒ“ê¸€ READ - ì‘ì„±ì ì •ë³´ ì¶œë ¥**
```html
<!-- articles/detail.html -->
<h4>ëŒ“ê¸€ ëª©ë¡</h4>
<ul>
  {% for comment in comments %}
    <li>
      {{ comment.user }} - {{ comment.content }}
      
      <!-- ë³¸ì¸ ëŒ“ê¸€ë§Œ ì‚­ì œ ë²„íŠ¼ í‘œì‹œ -->
      {% if request.user == comment.user %}
        <form action="{% url 'articles:comments_delete' article.pk comment.pk %}" method="POST">
          {% csrf_token %}
          <input type="submit" value="DELETE">
        </form>
      {% endif %}
    </li>
  {% empty %}
    <p>ëŒ“ê¸€ì´ ì—†ì–´ìš”..</p>
  {% endfor %}
</ul>

<!-- ëŒ“ê¸€ ì‘ì„± í¼ -->
<form action="{% url 'articles:comments_create' article.pk %}" method="POST">
  {% csrf_token %}
  {{ comment_form }}
  <input type="submit" value="ëŒ“ê¸€ ì‘ì„±">
</form>
```

**ëŒ“ê¸€ DELETE - ë³¸ì¸ë§Œ ì‚­ì œ ê°€ëŠ¥**
```python
# articles/views.py
@login_required
@require_POST
def comments_delete(request, article_pk, comment_pk):
    comment = Comment.objects.get(pk=comment_pk)
    
    # ì‘ì„±ì ë³¸ì¸ í™•ì¸
    if request.user == comment.user:
        comment.delete()
    
    return redirect('articles:detail', article_pk)
```

**View Decorators í™œìš© ì˜ˆì‹œ**
```python
# articles/views.py
from django.views.decorators.http import (
    require_http_methods,
    require_safe,
    require_POST,
)
from django.contrib.auth.decorators import login_required

# GETê³¼ POSTë§Œ í—ˆìš©
@require_http_methods(["GET", "POST"])
def create(request):
    pass

# GETê³¼ HEADë§Œ í—ˆìš© (ì¡°íšŒ ì „ìš©)
@require_safe
def index(request):
    pass

@require_safe
def detail(request, pk):
    pass

# POSTë§Œ í—ˆìš© (ìƒì„±/ì‚­ì œ)
@require_POST
def delete(request, pk):
    pass

@require_POST
def comments_create(request, pk):
    pass

@require_POST
def comments_delete(request, article_pk, comment_pk):
    pass

# ë¡œê·¸ì¸ í•„ìˆ˜ + HTTP ë©”ì„œë“œ ì œí•œ ì¡°í•©
@login_required
@require_POST
def delete(request, pk):
    pass

# âŒ ì˜ëª»ëœ ìˆœì„œ
# @require_POST
# @login_required  # ì´ ìˆœì„œëŠ” ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
```

**settings.AUTH_USER_MODEL vs get_user_model() ë¹„êµ**
```python
# models.pyì—ì„œ ì‚¬ìš©
from django.conf import settings

class Article(models.Model):
    # âœ… ì˜¬ë°”ë¥¸ ë°©ë²•: settings.AUTH_USER_MODEL (ë¬¸ìì—´)
    user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
    
    # âŒ ì˜ëª»ëœ ë°©ë²•: get_user_model() ë˜ëŠ” ì§ì ‘ import
    # from django.contrib.auth import get_user_model
    # user = models.ForeignKey(get_user_model(), on_delete=models.CASCADE)

# views.py, forms.py ë“±ì—ì„œ ì‚¬ìš©
from django.contrib.auth import get_user_model

def some_view(request):
    # âœ… ì˜¬ë°”ë¥¸ ë°©ë²•: get_user_model() (ê°ì²´)
    User = get_user_model()
    users = User.objects.all()
```

**ERD ì˜ˆì‹œ êµ¬ì¡°**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     User        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ username        â”‚
â”‚ email           â”‚
â”‚ password        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ 1
        â”‚
        â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Article      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ user_id (FK)    â”‚â”€â”€â”
â”‚ title           â”‚  â”‚
â”‚ content         â”‚  â”‚ ì°¸ì¡°
â”‚ created_at      â”‚  â”‚
â”‚ updated_at      â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚ 1          â”‚
        â”‚            â”‚
        â”‚ N          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    Comment      â”‚  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ id (PK)         â”‚  â”‚
â”‚ article_id (FK) â”‚  â”‚
â”‚ user_id (FK)    â”‚â”€â”€â”˜
â”‚ content         â”‚
â”‚ created_at      â”‚
â”‚ updated_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê´€ê³„:
- User (1) : Article (N)
- User (1) : Comment (N)
- Article (1) : Comment (N)
```

**URL íŒ¨í„´**
```python
# articles/urls.py
from django.urls import path
from . import views

app_name = 'articles'
urlpatterns = [
    path('', views.index, name='index'),
    path('create/', views.create, name='create'),
    path('<int:pk>/', views.detail, name='detail'),
    path('<int:pk>/update/', views.update, name='update'),
    path('<int:pk>/delete/', views.delete, name='delete'),
    path('<int:pk>/comments/', views.comments_create, name='comments_create'),
    path('<int:article_pk>/comments/<int:comment_pk>/delete/', 
         views.comments_delete, 
         name='comments_delete'),
]
```

# ğŸ› ï¸ ì´ìŠˆ & í•´ê²°
| ğŸ ë¬¸ì œ ìƒí™© | ğŸ” ì›ì¸ | ğŸ’¡ í•´ê²° ë°©ë²• |
|--------------|--------|--------------|
| ê²Œì‹œê¸€ ìƒì„± ì‹œ `NOT NULL constraint failed: articles_article.user_id` ë°œìƒ | user_id í•„ë“œì— ì‘ì„±ì ì •ë³´ê°€ ì €ì¥ë˜ì§€ ì•ŠìŒ | `article = form.save(commit=False)` â†’ `article.user = request.user` â†’ `article.save()` ìˆœì„œë¡œ ì²˜ë¦¬ |
| ArticleFormì— user í•„ë“œê°€ ë…¸ì¶œë˜ì–´ ì‚¬ìš©ìê°€ ì‘ì„±ìë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŒ | fieldsì— ëª¨ë“  í•„ë“œ í¬í•¨ | `fields = ('title', 'content',)`ë¡œ user ì œì™¸, viewì—ì„œ save(commit=False)ë¡œ ì²˜ë¦¬ |
| Migration ì‹œ "non-nullable field 'user' to article without specifying a default" ì—ëŸ¬ | ê¸°ì¡´ í…Œì´ë¸”ì— NOT NULL í•„ë“œ ì¶”ê°€ ì‹œ ê¸°ë³¸ê°’ í•„ìš” | 1 ì…ë ¥ â†’ ê¸°ë³¸ê°’ 1 ì…ë ¥í•˜ì—¬ ê¸°ì¡´ ê²Œì‹œê¸€ì„ 1ë²ˆ íšŒì›ì´ ì‘ì„±í•œ ê²ƒìœ¼ë¡œ ì„¤ì • |
| ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ê²Œì‹œê¸€ì„ ìˆ˜ì •/ì‚­ì œí•  ìˆ˜ ìˆìŒ | ê¶Œí•œ ê²€ì¦ ë¡œì§ ì—†ìŒ | view í•¨ìˆ˜ì—ì„œ `if request.user == article.user` ì¡°ê±´ ì¶”ê°€ |
| í…œí”Œë¦¿ì—ì„œ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ì´ ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ë³´ì„ | ì¡°ê±´ë¬¸ ì—†ì´ ë²„íŠ¼ í‘œì‹œ | `{% if request.user == article.user %}` í…œí”Œë¦¿ íƒœê·¸ë¡œ ë³¸ì¸ë§Œ ë²„íŠ¼ í‘œì‹œ |
| GET ìš”ì²­ìœ¼ë¡œ ì‚­ì œê°€ ê°€ëŠ¥í•˜ì—¬ ë³´ì•ˆ ë¬¸ì œ ë°œìƒ | HTTP ë©”ì„œë“œ ì œí•œ ì—†ìŒ | `@require_POST` ë°ì½”ë ˆì´í„° ì¶”ê°€í•˜ì—¬ POSTë§Œ í—ˆìš© |
| ë¸Œë¼ìš°ì € ì™¸ë¶€(postman ë“±)ì—ì„œ ê¶Œí•œ ì—†ì´ ìš”ì²­ ê°€ëŠ¥ | í…œí”Œë¦¿ ì¡°ê±´ë¬¸ë§Œìœ¼ë¡œëŠ” ì™„ì „í•œ ë³´ì•ˆ ë¶ˆê°€ | view í•¨ìˆ˜ ë‚´ë¶€ì—ì„œë„ `if request.user == article.user` ê²€ì¦ í•„ìˆ˜ |
| models.pyì—ì„œ Userë¥¼ ì§ì ‘ importí•˜ë©´ ìˆœí™˜ ì°¸ì¡° ì—ëŸ¬ | Article í´ë˜ìŠ¤ ìƒì„± ì‹œì ì´ Userë³´ë‹¤ ë¹ ë¥¼ ìˆ˜ ìˆìŒ | `settings.AUTH_USER_MODEL` (ë¬¸ìì—´)ë¡œ ì§€ì—° í‰ê°€ ë°©ì‹ í™œìš© |