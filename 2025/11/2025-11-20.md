# 2025-11-20 TIL

# âœ… ì˜¤ëŠ˜ í•œ ì¼
- JavaScript ì´ë²¤íŠ¸(Event) ê¸°ë³¸ ê°œë… í•™ìŠµ
- ì´ë²¤íŠ¸ ê°ì²´(Event Object)ì™€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬(Event Handler) ì´í•´
- addEventListener ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œ ì´ë²¤íŠ¸ ë“±ë¡ í•™ìŠµ
- ì´ë²¤íŠ¸ ë²„ë¸”ë§(Event Bubbling)ê³¼ ìº¡ì²˜ë§(Event Capturing) ê°œë… í•™ìŠµ
- event.targetê³¼ event.currentTargetì˜ ì°¨ì´ì  ì´í•´
- preventDefault()ë¥¼ ì‚¬ìš©í•œ ê¸°ë³¸ ë™ì‘ ì·¨ì†Œ í•™ìŠµ
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ thisì™€ í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ê´€ê³„ ì´í•´

# ğŸ“š ë°°ìš´ ì 
- ì´ë²¤íŠ¸ëŠ” ì›¹ í˜ì´ì§€ì—ì„œ ë°œìƒí•˜ëŠ” ëª¨ë“  ìƒí˜¸ì‘ìš©(í´ë¦­, ì…ë ¥, ë§ˆìš°ìŠ¤ ì´ë™ ë“±)ì„ ì˜ë¯¸í•¨
- ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì´ë²¤íŠ¸ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ì— ì „ë‹¬í•¨
- addEventListenerëŠ” DOM ìš”ì†Œì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” í‘œì¤€ ë©”ì„œë“œ
- ë²„ë¸”ë§ì€ ìì‹ ìš”ì†Œì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ê°€ ë¶€ëª¨ ìš”ì†Œë¡œ ì „íŒŒë˜ëŠ” í˜„ìƒìœ¼ë¡œ, íš¨ìœ¨ì ì¸ ì´ë²¤íŠ¸ ê´€ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•¨
- event.targetì€ ì‹¤ì œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ìš”ì†Œë¥¼, event.currentTargetì€ í•¸ë“¤ëŸ¬ê°€ ì—°ê²°ëœ ìš”ì†Œë¥¼ ê°€ë¦¬í‚´
- preventDefault()ëŠ” form ì œì¶œ, ë§í¬ ì´ë™ ë“±ì˜ ê¸°ë³¸ ë™ì‘ì„ ì·¨ì†Œí•  ìˆ˜ ìˆìŒ
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ thisê°€ ì „ì—­ ê°ì²´(window)ë¥¼ ê°€ë¦¬í‚¤ë¯€ë¡œ ì£¼ì˜ í•„ìš”
- ìº¡ì²˜ë§ì€ ìµœìƒìœ„ ìš”ì†Œì—ì„œ í•˜ìœ„ë¡œ ì „íŒŒë˜ì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ

# ğŸ“Œ í•µì‹¬ ê°œë…
- **ì´ë²¤íŠ¸(Event)**: ì›¹ í˜ì´ì§€ì—ì„œ ë°œìƒí•˜ëŠ” ì‹ í˜¸ ë˜ëŠ” ì‚¬ê±´ (í´ë¦­, ì…ë ¥, ë§ˆìš°ìŠ¤ ì´ë™ ë“±)
- **ì´ë²¤íŠ¸ ê°ì²´(Event Object)**: ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ìƒì„¸ ì •ë³´ë¥¼ ë‹´ì€ ê°ì²´
- **ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬(Event Handler)**: íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” ì½œë°± í•¨ìˆ˜
- **addEventListener(type, handler)**: DOM ìš”ì†Œì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” ë©”ì„œë“œ
- **ì´ë²¤íŠ¸ ë²„ë¸”ë§(Event Bubbling)**: ìì‹ ìš”ì†Œì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ê°€ ë¶€ëª¨ ìš”ì†Œë¡œ ì „íŒŒë˜ëŠ” í˜„ìƒ
- **event.target**: ì‹¤ì œ ì´ë²¤íŠ¸ê°€ ì²˜ìŒ ë°œìƒí•œ ê°€ì¥ ì•ˆìª½ì˜ ìš”ì†Œ (ë²„ë¸”ë§ ì¤‘ì—ë„ ë³€í•˜ì§€ ì•ŠìŒ)
- **event.currentTarget**: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì—°ê²°ëœ í˜„ì¬ ìš”ì†Œ (ì¼ë°˜ í•¨ìˆ˜ì˜ thisì™€ ë™ì¼)
- **preventDefault()**: ì´ë²¤íŠ¸ì˜ ê¸°ë³¸ ë™ì‘(form ì œì¶œ, ë§í¬ ì´ë™ ë“±)ì„ ì·¨ì†Œí•˜ëŠ” ë©”ì„œë“œ
- **ìº¡ì²˜ë§(Capturing)**: ì´ë²¤íŠ¸ê°€ ìµœìƒìœ„ ìš”ì†Œì—ì„œ íƒ€ê¹ƒ ìš”ì†Œê¹Œì§€ í•˜ìœ„ë¡œ ì „íŒŒë˜ëŠ” ë‹¨ê³„ (ë²„ë¸”ë§ì˜ ë°˜ëŒ€)

# ğŸ’¡ ì˜ˆì‹œ ì½”ë“œ

```javascript
// ê¸°ë³¸ ì´ë²¤íŠ¸ ë“±ë¡
const btn = document.querySelector('#btn');

const detectClick = function(event) {
  console.log(event); // PointerEvent ê°ì²´
  console.log(event.type); // 'click'
  console.log(event.target); // ì‹¤ì œ í´ë¦­ëœ ìš”ì†Œ
  console.log(event.currentTarget); // í•¸ë“¤ëŸ¬ê°€ ì—°ê²°ëœ ìš”ì†Œ (btn)
};

btn.addEventListener('click', detectClick);

// ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ this (ì¼ë°˜ í•¨ìˆ˜ vs í™”ì‚´í‘œ í•¨ìˆ˜)
const element = document.querySelector('#element');

// ì¼ë°˜ í•¨ìˆ˜: thisê°€ ì´ë²¤íŠ¸ê°€ ì—°ê²°ëœ ìš”ì†Œë¥¼ ê°€ë¦¬í‚´
element.addEventListener('click', function() {
  console.log(this); // element ìš”ì†Œ
});

// í™”ì‚´í‘œ í•¨ìˆ˜: thisê°€ ì „ì—­ ê°ì²´(window)ë¥¼ ê°€ë¦¬í‚´
element.addEventListener('click', () => {
  console.log(this); // window
});

// í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œëŠ” event.currentTarget ì‚¬ìš©
element.addEventListener('click', (event) => {
  console.log(event.currentTarget); // element ìš”ì†Œ
});

// ë²„ë¸”ë§ ì˜ˆì‹œ
const formElement = document.querySelector('#form');
const divElement = document.querySelector('#div');
const pElement = document.querySelector('#p');

formElement.addEventListener('click', () => {
  console.log('formì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.');
});

divElement.addEventListener('click', () => {
  console.log('divê°€ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.');
});

pElement.addEventListener('click', () => {
  console.log('pê°€ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.');
});

// pë¥¼ í´ë¦­í•˜ë©´:
// pê°€ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.
// divê°€ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.
// formì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.

// target vs currentTarget ì°¨ì´
const outerOuterElement = document.querySelector('#outerouter');

const clickHandler = function(event) {
  console.log('currentTarget:', event.currentTarget.id); // í•­ìƒ outerouter
  console.log('target:', event.target.id); // ì‹¤ì œ í´ë¦­í•œ ìš”ì†Œì˜ id
};

outerOuterElement.addEventListener('click', clickHandler);

// ë²„ë¸”ë§ í™œìš© - íš¨ìœ¨ì ì¸ ì´ë²¤íŠ¸ ê´€ë¦¬
const divTag = document.querySelector('div');

// ë¶€ëª¨ ìš”ì†Œì— í•˜ë‚˜ì˜ í•¸ë“¤ëŸ¬ë§Œ ë“±ë¡
divTag.addEventListener('click', function(event) {
  console.log(event.target); // ì‹¤ì œ í´ë¦­ëœ ìì‹ ë²„íŠ¼ í™•ì¸ ê°€ëŠ¥
});

// preventDefault() - ê¸°ë³¸ ë™ì‘ ì·¨ì†Œ
// 1. copy ì´ë²¤íŠ¸ ì·¨ì†Œ
const h1Tag = document.querySelector('h1');
h1Tag.addEventListener('copy', function(event) {
  event.preventDefault();
  alert('ë³µì‚¬ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
});

// 2. form ì œì¶œ ì‹œ ìƒˆë¡œê³ ì¹¨ ì·¨ì†Œ
const formTag = document.querySelector('#my-form');
const handleSubmit = function(event) {
  event.preventDefault(); // ìƒˆë¡œê³ ì¹¨ ë°©ì§€
  console.log('í¼ì´ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.');
};
formTag.addEventListener('submit', handleSubmit);
```

```html
<!-- ë²„ë¸”ë§ êµ¬ì¡° ì˜ˆì‹œ -->
<form id="form">
  form
  <div id="div">
    div
    <p id="p">p</p>
  </div>
</form>

<!-- target vs currentTarget ì˜ˆì‹œ -->
<div id="outerouter">
  outerouter
  <div id="outer">
    outer
    <div id="inner">inner</div>
  </div>
</div>

<!-- preventDefault ì˜ˆì‹œ -->
<h1>ì¤‘ìš”í•œ ë‚´ìš©</h1>

<form id="my-form">
  <input type="text" name="username">
  <button type="submit">Submit</button>
</form>
```

# ğŸ› ï¸ ì´ìŠˆ & í•´ê²°
| ğŸ ë¬¸ì œ ìƒí™© | ğŸ” ì›ì¸ | ğŸ’¡ í•´ê²° ë°©ë²• |
|--------------|--------|--------------|
| ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í–ˆë”ë‹ˆ thisê°€ windowë¥¼ ê°€ë¦¬í‚´ | í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ìì‹ ë§Œì˜ thisë¥¼ ê°€ì§€ì§€ ì•Šê³  ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ì‚¬ìš© | ì¼ë°˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, event.currentTargetìœ¼ë¡œ ì´ë²¤íŠ¸ê°€ ì—°ê²°ëœ ìš”ì†Œì— ì ‘ê·¼ |
| ìì‹ ìš”ì†Œë§Œ í´ë¦­í–ˆëŠ”ë° ë¶€ëª¨ ìš”ì†Œì˜ í•¸ë“¤ëŸ¬ê¹Œì§€ ë™ì‘í•¨ | ì´ë²¤íŠ¸ ë²„ë¸”ë§ìœ¼ë¡œ ì¸í•´ ìì‹ì—ì„œ ë¶€ëª¨ë¡œ ì´ë²¤íŠ¸ê°€ ì „íŒŒë¨ | ì˜ë„ëœ ë™ì‘ì´ë©´ event.targetìœ¼ë¡œ ì‹¤ì œ í´ë¦­ëœ ìš”ì†Œ êµ¬ë¶„. ì „íŒŒë¥¼ ë§‰ìœ¼ë ¤ë©´ stopPropagation() ì‚¬ìš© |
| form ì œì¶œ ì‹œ í˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ë˜ì–´ ë°ì´í„° ì²˜ë¦¬ê°€ ì•ˆ ë¨ | formì˜ ê¸°ë³¸ ë™ì‘ì´ action ì†ì„±ì˜ URLë¡œ ì´ë™í•˜ëŠ” ê²ƒ | event.preventDefault()ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ ë™ì‘ ì·¨ì†Œ |
| ì—¬ëŸ¬ ë²„íŠ¼ì— ê°™ì€ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•˜ë ¤ë‹ˆ ì½”ë“œê°€ ë°˜ë³µë¨ | ê° ë²„íŠ¼ë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•¨ | ë²„ë¸”ë§ì„ í™œìš©í•˜ì—¬ ê³µí†µ ë¶€ëª¨ ìš”ì†Œì— í•¸ë“¤ëŸ¬ í•˜ë‚˜ë§Œ ë“±ë¡í•˜ê³  event.targetìœ¼ë¡œ êµ¬ë¶„ |
| event.targetê³¼ event.currentTargetì˜ ì°¨ì´ë¥¼ í—·ê°ˆë¦¼ | ë‘ ì†ì„±ì˜ ê°œë… ì°¨ì´ë¥¼ ëª…í™•íˆ ì´í•´í•˜ì§€ ëª»í•¨ | targetì€ ì‹¤ì œ ì´ë²¤íŠ¸ ë°œìƒ ìš”ì†Œ, currentTargetì€ í•¸ë“¤ëŸ¬ê°€ ì—°ê²°ëœ ìš”ì†Œ. "ëˆ„ê°€ ì (.)ì„ ì°ì–´ í˜¸ì¶œí–ˆëŠ”ê°€"ì™€ ìœ ì‚¬ |