# 2025-09-18 TIL

# ✅ 오늘 한 일
- Web Application 기본 개념, **클라이언트–서버**, **Frontend/Backend** 구분 정리
- **가상환경(venv)**과 **의존성 관리(requirements.txt)** 실습
- Django 기본 구조: **프로젝트/앱**, **MVC ↔ MTV**, 요청–응답 흐름(URLs → Views → Templates) 복습
- Django 프로젝트 생성/서버 실행, 앱 생성/등록까지 연습

# 📚 배운 점
- 웹 앱은 **브라우저(클라이언트)**가 **서버**에 요청 → 서버가 HTML/JSON 등으로 응답하는 구조
- **Frontend**는 UI/UX(HTML/CSS/JS), **Backend**는 비즈니스 로직·DB·보안·API를 담당
- **Web Framework(Django)**는 인증, 라우팅, ORM, 보안 등 공통 기능을 제공해 생산성을 높임
- **가상환경**은 프로젝트별로 파이썬/패키지 버전을 분리하여 충돌을 방지
- **MVC ↔ MTV**: 개념은 같고, Django는 View(컨트롤러 역할), Template(뷰 역할)로 명명만 다름

# 📌 핵심 개념
- **클라이언트–서버**: 클라이언트는 요청, 서버는 처리/응답 (예: `GET /articles/` → HTML 반환)
- **가상환경(venv)**:
  - 생성: `python -m venv venv` → 활성화(Win) `source venv/Scripts/activate` / (Mac) `source venv/bin/activate`
  - 의존성 저장/재현: `pip freeze > requirements.txt` / `pip install -r requirements.txt`
- **Django 프로젝트 vs 앱**:
  - 프로젝트: 설정/루트 URL/전역 환경
  - 앱: 독립 기능 단위(게시판, 회원 등) → 여러 앱이 모여 프로젝트 구성
- **MTV 흐름**: URL 매핑 → View(요청 처리) → Template(렌더링) → Response
- **폴더 규칙**: `app/templates/app/템플릿.html` 구조 권장(네임스페이스 충돌 방지)

# 💡 예시 코드
```bash
# 1) 가상환경 & Django 설치
python -m venv venv
# Windows
source venv/Scripts/activate
# macOS/Linux
# source venv/bin/activate
pip install django
```

```bash
# 2) 프로젝트 & 앱
django-admin startproject firstpjt .
python manage.py startapp articles
```

```python
# 3) settings.py (앱 등록)
INSTALLED_APPS = [
    # ... (내장 앱들)
    'articles',  # ← 생성한 앱을 반드시 추가
]
```

```python
# 4) firstpjt/urls.py (프로젝트 라우팅)
from django.contrib import admin
from django.urls import path
from articles import views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('articles/', views.index, name='articles-index'),
]
```

```python
# 5) articles/views.py (뷰)
from django.shortcuts import render

def index(request):
    context = {"title": "Articles Home", "msg": "Hello Django!"}
    return render(request, "articles/index.html", context)
```

```text
# 6) 템플릿 경로
articles/
 └─ templates/
    └─ articles/
       └─ index.html
```

```html
<!-- 7) articles/templates/articles/index.html -->
<!DOCTYPE html>
<html lang="ko">
  <head><meta charset="utf-8"><title>{{ title }}</title></head>
  <body>
    <h1>{{ title }}</h1>
    <p>{{ msg }}</p>
  </body>
</html>
```

```bash
# 8) 서버 실행
python manage.py runserver
# 출력되는 http://127.0.0.1:8000/articles/ 접속
```

# 🛠️ 이슈 & 해결
| 🐞 문제 상황 | 🔍 원인 | 💡 해결 방법 |
|--------------|--------|--------------|
| 템플릿 Not Found | 템플릿 폴더 구조 불일치 | `app/templates/app/...` 경로로 생성, 파일명/대소문자 확인 |
| 앱 뷰가 404 | 앱을 INSTALLED_APPS에 미등록 | `settings.py`의 `INSTALLED_APPS`에 추가 후 서버 재시작 |
| 정적 파일/이미지 미표시 | STATIC 설정/경로 누락 | 개발 단계는 `STATIC_URL`만으로 충분, 배포 시 `collectstatic` 구성 |
| 가상환경이 자꾸 풀림 | 새 터미널 창에서 비활성 상태 | 터미널마다 `activate` 필요, 프롬프트의 `(venv)` 확인 |
| 패키지 버전 충돌 | 전역 설치/중복 설치 | 프로젝트마다 venv 사용, `requirements.txt`로 고정 |

# 🎯 내일 할 일
- 📚 Django URL namespacing, 템플릿 상속(`base.html`) 적용 및 include 연습
- 💻 폼 처리(GET/POST), CSRF, 기본 CRUD 흐름으로 간단 게시판 만들기
- 🔍 venv + `requirements.txt`로 팀원 PC에서 환경 재현 테스트


# 🖼️ 이미지 캡션

**[그림 1] 요청–응답(Req/Res) 흐름도**
- 브라우저가 URL로 요청(예: `GET /articles/`)을 보냄
- `urls.py`가 요청 경로를 **View 함수**에 매핑
- View가 비즈니스 로직 수행 및 `context` 구성 후 `render()` 호출
- Template 엔진이 HTML을 생성
- WSGI 서버를 통해 **HTTP 응답**(HTML/JSON 등) 반환

**[그림 2] Django MTV 다이어그램**
- **Model**: DB 스키마/ORM, 비즈니스 데이터 정의 및 영속화
- **Template**: 사용자에게 보이는 화면(뷰 역할), Jinja-like 템플릿
- **View**: 요청 수신·검증·권한 체크·쿼리·렌더링까지 **컨트롤러 역할**
- (MVC 대비 매핑) MVC의 **Controller → Django View**, MVC의 **View → Django Template**
- 데이터 흐름: URL → View(로직/쿼리) → Template(렌더) → Response
